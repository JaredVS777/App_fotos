"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[319],{7464:(oe,$,g)=>{g.d($,{EA:()=>h,E_:()=>F,F3:()=>H,I9:()=>L});var f=g(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var C=function(t){return t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE",t}(C||{});class L extends Error{constructor(e,n,o){super(e),this.message=e,this.code=n,this.data=o}}const K=t=>{var e,n,o,l,s;const m=t.CapacitorCustomPlatform||null,d=t.Capacitor||{},A=d.Plugins=d.Plugins||{},p=t.CapacitorPlatforms,M=(null===(e=null==p?void 0:p.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==m?m.name:(t=>{var e,n;return null!=t&&t.androidBridge?"android":null!==(n=null===(e=null==t?void 0:t.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==n&&n.bridge?"ios":"web"})(t)),de=(null===(n=null==p?void 0:p.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==M()),fe=(null===(o=null==p?void 0:p.currentPlatform)||void 0===o?void 0:o.isPluginAvailable)||(P=>{const b=te.get(P);return!!(null!=b&&b.platforms.has(M())||se(P))}),se=(null===(l=null==p?void 0:p.currentPlatform)||void 0===l?void 0:l.getPluginHeader)||(P=>{var b;return null===(b=d.PluginHeaders)||void 0===b?void 0:b.find(G=>G.name===P)}),te=new Map,ve=(null===(s=null==p?void 0:p.currentPlatform)||void 0===s?void 0:s.registerPlugin)||((P,b={})=>{const G=te.get(P);if(G)return console.warn(`Capacitor plugin "${P}" already registered. Cannot register plugins twice.`),G.proxy;const R=M(),W=se(P);let O;const Pe=function(){var y=(0,f.A)(function*(){return!O&&R in b?O=O="function"==typeof b[R]?yield b[R]():b[R]:null!==m&&!O&&"web"in b&&(O=O="function"==typeof b.web?yield b.web():b.web),O});return function(){return y.apply(this,arguments)}}(),ne=y=>{let E;const _=(...S)=>{const U=Pe().then(T=>{const k=((y,E)=>{var _,S;if(!W){if(y)return null===(S=y[E])||void 0===S?void 0:S.bind(y);throw new L(`"${P}" plugin is not implemented on ${R}`,C.Unimplemented)}{const U=null==W?void 0:W.methods.find(T=>E===T.name);if(U)return"promise"===U.rtype?T=>d.nativePromise(P,E.toString(),T):(T,k)=>d.nativeCallback(P,E.toString(),T,k);if(y)return null===(_=y[E])||void 0===_?void 0:_.bind(y)}})(T,y);if(k){const Y=k(...S);return E=null==Y?void 0:Y.remove,Y}throw new L(`"${P}.${y}()" is not implemented on ${R}`,C.Unimplemented)});return"addListener"===y&&(U.remove=(0,f.A)(function*(){return E()})),U};return _.toString=()=>`${y.toString()}() { [capacitor code] }`,Object.defineProperty(_,"name",{value:y,writable:!1,configurable:!1}),_},le=ne("addListener"),ce=ne("removeListener"),ye=(y,E)=>{const _=le({eventName:y},E),S=function(){var T=(0,f.A)(function*(){const k=yield _;ce({eventName:y,callbackId:k},E)});return function(){return T.apply(this,arguments)}}(),U=new Promise(T=>_.then(()=>T({remove:S})));return U.remove=(0,f.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield S()}),U},re=new Proxy({},{get(y,E){switch(E){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return W?ye:le;case"removeListener":return ce;default:return ne(E)}}});return A[P]=re,te.set(P,{name:P,proxy:re,platforms:new Set([...Object.keys(b),...W?[R]:[]])}),re});return d.convertFileSrc||(d.convertFileSrc=P=>P),d.getPlatform=M,d.handleError=P=>t.console.error(P),d.isNativePlatform=de,d.isPluginAvailable=fe,d.pluginMethodNoop=(P,b,G)=>Promise.reject(`${G} does not have an implementation of "${b}".`),d.registerPlugin=ve,d.Exception=L,d.DEBUG=!!d.DEBUG,d.isLoggingEnabled=!!d.isLoggingEnabled,d.platform=d.getPlatform(),d.isNative=d.isNativePlatform(),d},I=(t=>t.Capacitor=K(t))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),H=I.registerPlugin;class F{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){var o=this;let l=!1;this.listeners[e]||(this.listeners[e]=[],l=!0),this.listeners[e].push(n);const m=this.windowListeners[e];m&&!m.registered&&this.addWindowListener(m),l&&this.sendRetainedArgumentsForEvent(e);const d=function(){var p=(0,f.A)(function*(){return o.removeListener(e,n)});return function(){return p.apply(this,arguments)}}();return Promise.resolve({remove:d})}removeAllListeners(){var e=this;return(0,f.A)(function*(){e.listeners={};for(const n in e.windowListeners)e.removeWindowListener(e.windowListeners[n]);e.windowListeners={}})()}notifyListeners(e,n,o){const l=this.listeners[e];if(l)l.forEach(s=>s(n));else if(o){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:o=>{this.notifyListeners(n,o)}}}unimplemented(e="not implemented"){return new I.Exception(e,C.Unimplemented)}unavailable(e="not available"){return new I.Exception(e,C.Unavailable)}removeListener(e,n){var o=this;return(0,f.A)(function*(){const l=o.listeners[e];if(!l)return;const s=l.indexOf(n);o.listeners[e].splice(s,1),o.listeners[e].length||o.removeWindowListener(o.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(o=>{this.notifyListeners(e,o)}))}}const z=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Q=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Z extends F{getCookies(){return(0,f.A)(function*(){const e=document.cookie,n={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[l,s]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=Q(l).trim(),s=Q(s).trim(),n[l]=s}),n})()}setCookie(e){return(0,f.A)(function*(){try{const n=z(e.key),o=z(e.value),l=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),m=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${o||""}${l}; path=${s}; ${m};`}catch(n){return Promise.reject(n)}})()}deleteCookie(e){return(0,f.A)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}})()}clearCookies(){return(0,f.A)(function*(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,f.A)(function*(){try{yield e.clearCookies()}catch(n){return Promise.reject(n)}})()}}H("CapacitorCookies",{web:()=>new Z});const q=function(){var t=(0,f.A)(function*(e){return new Promise((n,o)=>{const l=new FileReader;l.onload=()=>{const s=l.result;n(s.indexOf(",")>=0?s.split(",")[1]:s)},l.onerror=s=>o(s),l.readAsDataURL(e)})});return function(n){return t.apply(this,arguments)}}(),h=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),l=((t={})=>{const e=Object.keys(t);return Object.keys(t).map(l=>l.toLocaleLowerCase()).reduce((l,s,m)=>(l[s]=t[e[m]],l),{})})(t.headers)["content-type"]||"";if("string"==typeof t.data)n.body=t.data;else if(l.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[m,d]of Object.entries(t.data||{}))s.set(m,d);n.body=s.toString()}else if(l.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((d,A)=>{s.append(A,d)});else for(const d of Object.keys(t.data))s.append(d,t.data[d]);n.body=s;const m=new Headers(n.headers);m.delete("content-type"),n.headers=m}else(l.includes("application/json")||"object"==typeof t.data)&&(n.body=JSON.stringify(t.data));return n};class r extends F{request(e){return(0,f.A)(function*(){const n=h(e,e.webFetchExtra),o=((t,e=!0)=>t?Object.entries(t).reduce((o,l)=>{const[s,m]=l;let d,A;return Array.isArray(m)?(A="",m.forEach(p=>{d=e?encodeURIComponent(p):p,A+=`${s}=${d}&`}),A.slice(0,-1)):(d=e?encodeURIComponent(m):m,A=`${s}=${d}`),`${o}&${A}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),l=o?`${e.url}?${o}`:e.url,s=yield fetch(l,n),m=s.headers.get("content-type")||"";let A,p,{responseType:d="text"}=s.ok?e:{};switch(m.includes("application/json")&&(d="json"),d){case"arraybuffer":case"blob":p=yield s.blob(),A=yield q(p);break;case"json":A=yield s.json();break;default:A=yield s.text()}const B={};return s.headers.forEach((M,ee)=>{B[ee]=M}),{data:A,headers:B,status:s.status,url:s.url}})()}get(e){var n=this;return(0,f.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var n=this;return(0,f.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var n=this;return(0,f.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var n=this;return(0,f.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var n=this;return(0,f.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}H("CapacitorHttp",{web:()=>new r})},1889:(oe,$,g)=>{g.d($,{Wi:()=>x,__:()=>f});var f=function(w){return w.Documents="DOCUMENTS",w.Data="DATA",w.Library="LIBRARY",w.Cache="CACHE",w.External="EXTERNAL",w.ExternalStorage="EXTERNAL_STORAGE",w}(f||{}),x=function(w){return w.UTF8="utf8",w.ASCII="ascii",w.UTF16="utf16",w}(x||{})},319:(oe,$,g)=>{g.r($),g.d($,{Tab2PageModule:()=>q});var f=g(1075),x=g(177),J=g(4341),D=g(1307),w=g(70),v=g(467),u=g(4438),C=g(7464),L=function(c){return c.Prompt="PROMPT",c.Camera="CAMERA",c.Photos="PHOTOS",c}(L||{}),j=function(c){return c.Rear="REAR",c.Front="FRONT",c}(j||{}),K=function(c){return c.Uri="uri",c.Base64="base64",c.DataUrl="dataUrl",c}(K||{});class X extends C.E_{getPhoto(a){var h=this;return(0,v.A)(function*(){return new Promise(function(){var r=(0,v.A)(function*(i,t){if(a.webUseInput||a.source===L.Photos)h.fileInputExperience(a,i,t);else if(a.source===L.Prompt){let e=document.querySelector("pwa-action-sheet");e||(e=document.createElement("pwa-action-sheet"),document.body.appendChild(e)),e.header=a.promptLabelHeader||"Photo",e.cancelable=!1,e.options=[{title:a.promptLabelPhoto||"From Photos"},{title:a.promptLabelPicture||"Take Picture"}],e.addEventListener("onSelection",function(){var n=(0,v.A)(function*(o){0===o.detail?h.fileInputExperience(a,i,t):h.cameraExperience(a,i,t)});return function(o){return n.apply(this,arguments)}}())}else h.cameraExperience(a,i,t)});return function(i,t){return r.apply(this,arguments)}}())})()}pickImages(a){var h=this;return(0,v.A)(function*(){return new Promise(function(){var r=(0,v.A)(function*(i,t){h.multipleFileInputExperience(i,t)});return function(i,t){return r.apply(this,arguments)}}())})()}cameraExperience(a,h,r){var i=this;return(0,v.A)(function*(){if(customElements.get("pwa-camera-modal")){const t=document.createElement("pwa-camera-modal");t.facingMode=a.direction===j.Front?"user":"environment",document.body.appendChild(t);try{yield t.componentOnReady(),t.addEventListener("onPhoto",function(){var e=(0,v.A)(function*(n){const o=n.detail;null===o?r(new C.I9("User cancelled photos app")):o instanceof Error?r(o):h(yield i._getCameraPhoto(o,a)),t.dismiss(),document.body.removeChild(t)});return function(n){return e.apply(this,arguments)}}()),t.present()}catch{i.fileInputExperience(a,h,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),i.fileInputExperience(a,h,r)})()}fileInputExperience(a,h,r){let i=document.querySelector("#_capacitor-camera-input");const t=()=>{var e;null===(e=i.parentNode)||void 0===e||e.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",e=>{const n=i.files[0];let o="jpeg";if("image/png"===n.type?o="png":"image/gif"===n.type&&(o="gif"),"dataUrl"===a.resultType||"base64"===a.resultType){const l=new FileReader;l.addEventListener("load",()=>{if("dataUrl"===a.resultType)h({dataUrl:l.result,format:o});else if("base64"===a.resultType){const s=l.result.split(",")[1];h({base64String:s,format:o})}t()}),l.readAsDataURL(n)}else h({webPath:URL.createObjectURL(n),format:o}),t()}),i.addEventListener("cancel",e=>{r(new C.I9("User cancelled photos app")),t()})),i.accept="image/*",i.capture=!0,a.source===L.Photos||a.source===L.Prompt?i.removeAttribute("capture"):a.direction===j.Front?i.capture="user":a.direction===j.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(a,h){let r=document.querySelector("#_capacitor-camera-input-multiple");const i=()=>{var t;null===(t=r.parentNode)||void 0===t||t.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",t=>{const e=[];for(let n=0;n<r.files.length;n++){const o=r.files[n];let l="jpeg";"image/png"===o.type?l="png":"image/gif"===o.type&&(l="gif"),e.push({webPath:URL.createObjectURL(o),format:l})}a({photos:e}),i()}),r.addEventListener("cancel",t=>{h(new C.I9("User cancelled photos app")),i()})),r.accept="image/*",r.click()}_getCameraPhoto(a,h){return new Promise((r,i)=>{const t=new FileReader,e=a.type.split("/")[1];"uri"===h.resultType?r({webPath:URL.createObjectURL(a),format:e,saved:!1}):(t.readAsDataURL(a),t.onloadend=()=>{const n=t.result;r("dataUrl"===h.resultType?{dataUrl:n,format:e,saved:!1}:{base64String:n.split(",")[1],format:e,saved:!1})},t.onerror=n=>{i(n)})})}checkPermissions(){var a=this;return(0,v.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw a.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw a.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var a=this;return(0,v.A)(function*(){throw a.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var a=this;return(0,v.A)(function*(){throw a.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var a=this;return(0,v.A)(function*(){throw a.unavailable("Not implemented on web.")})()}}new X;const H=(0,C.F3)("Camera",{web:()=>new X});var N=g(1889);const V=(0,C.F3)("Filesystem",{web:()=>g.e(2937).then(g.bind(g,2937)).then(c=>new c.FilesystemWeb)}),F=(0,C.F3)("Preferences",{web:()=>g.e(2924).then(g.bind(g,2924)).then(c=>new c.PreferencesWeb)});let ie=(()=>{var c;class a{constructor(r){this.actionSheetController=r,this.photos=[],this.PHOTO_STORAGE="photos"}addNewToGallery(){var r=this;return(0,v.A)(function*(){yield(yield r.actionSheetController.create({header:"Selecciona una opci\xf3n",buttons:[{text:"Tomar Foto",icon:"camera",handler:()=>{r.takePhoto(L.Camera)}},{text:"Seleccionar de la galer\xeda",icon:"images",handler:()=>{r.takePhoto(L.Photos)}},{text:"Cancelar",icon:"close",role:"cancel"}]})).present()})()}takePhoto(r){var i=this;return(0,v.A)(function*(){const t=yield H.getPhoto({resultType:K.Uri,source:r,quality:100}),e=yield i.savePicture(t);i.photos.unshift(e),yield i.savePhotos()})()}savePhotos(){var r=this;return(0,v.A)(function*(){yield F.set({key:r.PHOTO_STORAGE,value:JSON.stringify(r.photos)})})()}loadSaved(){var r=this;return(0,v.A)(function*(){const i=yield F.get({key:r.PHOTO_STORAGE});r.photos=i.value?JSON.parse(i.value):[];for(let t of r.photos){const e=yield V.readFile({path:t.filepath,directory:N.__.Data});t.webviewPath=`data:image/jpeg;base64,${e.data}`}})()}savePicture(r){var i=this;return(0,v.A)(function*(){const t=yield i.readAsBase64(r),e=`${(new Date).getTime()}.jpeg`;return{filepath:(yield V.writeFile({path:e,data:t,directory:N.__.Data})).uri,webviewPath:r.webPath}})()}readAsBase64(r){var i=this;return(0,v.A)(function*(){const e=yield(yield fetch(r.webPath)).blob();return i.convertBlobToBase64(e)})()}convertBlobToBase64(r){return new Promise((i,t)=>{const e=new FileReader;e.onerror=t,e.onload=()=>i(e.result),e.readAsDataURL(r)})}deletePicture(r,i){var t=this;return(0,v.A)(function*(){t.photos.splice(i,1),yield F.set({key:t.PHOTO_STORAGE,value:JSON.stringify(t.photos)});const e=r.filepath.substr(r.filepath.lastIndexOf("/")+1);yield V.deleteFile({path:e,directory:N.__.Data})})()}}return(c=a).\u0275fac=function(r){return new(r||c)(u.KVO(f.GD))},c.\u0275prov=u.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),a})();function z(c,a){if(1&c){const h=u.RV6();u.j41(0,"ion-col",9)(1,"ion-img",10),u.bIt("click",function(){const i=u.eBV(h),t=i.$implicit,e=i.index,n=u.XpG();return u.Njj(n.showActionSheet(t,e))}),u.k0s()()}if(2&c){const h=a.$implicit;u.R7$(),u.Y8G("src",h.webviewPath)}}const Z=[{path:"",component:(()=>{var c;class a{constructor(r,i){this.photoService=r,this.actionSheetController=i}addPhotoToGallery(){this.photoService.addNewToGallery()}showActionSheet(r,i){var t=this;return(0,v.A)(function*(){yield(yield t.actionSheetController.create({header:"Fotos de la galer\xeda",buttons:[{text:"Eliminar",role:"destructive",icon:"trash",handler:()=>{t.photoService.deletePicture(r,i)}},{text:"Cancelar",icon:"close",role:"cancel",handler:()=>{}}]})).present()})()}ngOnInit(){var r=this;return(0,v.A)(function*(){yield r.photoService.loadSaved()})()}}return(c=a).\u0275fac=function(r){return new(r||c)(u.rXU(ie),u.rXU(f.GD))},c.\u0275cmp=u.VBU({type:c,selectors:[["app-tab2"]],decls:15,vars:3,consts:[[3,"translucent"],["color","primary"],[3,"fullscreen"],["collapse","condense"],["size","large"],["size","6",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","center","slot","fixed"],[3,"click"],["name","camera"],["size","6"],[3,"click","src"]],template:function(r,i){1&r&&(u.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),u.EFF(3," CAMPRO "),u.k0s()()(),u.j41(4,"ion-content",2)(5,"ion-header",3)(6,"ion-toolbar")(7,"ion-title",4),u.EFF(8,"Tab 2"),u.k0s()()(),u.j41(9,"ion-grid")(10,"ion-row"),u.DNE(11,z,2,1,"ion-col",5),u.k0s()(),u.j41(12,"ion-fab",6)(13,"ion-fab-button",7),u.bIt("click",function(){return i.addPhotoToGallery()}),u.nrm(14,"ion-icon",8),u.k0s()()()),2&r&&(u.Y8G("translucent",!0),u.R7$(4),u.Y8G("fullscreen",!0),u.R7$(7),u.Y8G("ngForOf",i.photoService.photos))},dependencies:[f.hU,f.W9,f.Q8,f.YW,f.lO,f.eU,f.iq,f.KW,f.ln,f.BC,f.ai,x.Sq]}),a})()}];let ae=(()=>{var c;class a{}return(c=a).\u0275fac=function(r){return new(r||c)},c.\u0275mod=u.$C({type:c}),c.\u0275inj=u.G2t({imports:[w.iI.forChild(Z),w.iI]}),a})(),q=(()=>{var c;class a{}return(c=a).\u0275fac=function(r){return new(r||c)},c.\u0275mod=u.$C({type:c}),c.\u0275inj=u.G2t({imports:[f.bv,x.MD,J.YN,D.S,ae]}),a})()}}]);